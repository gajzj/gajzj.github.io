<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>云岚到家 on GAJ-Blog</title>
        <link>https://example.com/tags/%E4%BA%91%E5%B2%9A%E5%88%B0%E5%AE%B6/</link>
        <description>Recent content in 云岚到家 on GAJ-Blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>gajzj</copyright>
        <lastBuildDate>Sun, 10 Nov 2024 16:02:00 +0800</lastBuildDate><atom:link href="https://example.com/tags/%E4%BA%91%E5%B2%9A%E5%88%B0%E5%AE%B6/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>云岚到家</title>
        <link>https://example.com/p/%E4%BA%91%E5%B2%9A%E5%88%B0%E5%AE%B6/</link>
        <pubDate>Sun, 10 Nov 2024 16:02:00 +0800</pubDate>
        
        <guid>https://example.com/p/%E4%BA%91%E5%B2%9A%E5%88%B0%E5%AE%B6/</guid>
        <description>&lt;h1 id=&#34;云岚到家&#34;&gt;云岚到家
&lt;/h1&gt;&lt;h2 id=&#34;项目介绍&#34;&gt;项目介绍
&lt;/h2&gt;&lt;h3 id=&#34;项目背景&#34;&gt;项目背景
&lt;/h3&gt;&lt;p&gt;互联网+家政&lt;/p&gt;
&lt;h3 id=&#34;运营模式&#34;&gt;运营模式
&lt;/h3&gt;&lt;p&gt;B2B2C与C2B2C的区别是：B2B2C中服务提供者是家政服务中介公司，在C2B2C中是服务提供者是拥有服务技能的服务人员（散户）。&lt;/p&gt;
&lt;h3 id=&#34;业务流程&#34;&gt;业务流程
&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.nlark.com/yuque/0/2024/png/1169676/1708411471272-69144ed7-f8fa-48c9-9598-6c6caa85b7b6.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_28%2Ctext_5rK554K45bCP5rOi%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10%2Fformat%2Cwebp&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;核心流程就是：平台发布服务项目&amp;gt;用户端选择项目并下单、支付&amp;gt;散户、机构抢单&amp;gt;实施服务&amp;gt;完成服务、评价&lt;/p&gt;
&lt;h2 id=&#34;开发区域服务模块&#34;&gt;开发区域服务模块
&lt;/h2&gt;&lt;h3 id=&#34;查询区域服务&#34;&gt;查询区域服务
&lt;/h3&gt;&lt;h4 id=&#34;接口设计&#34;&gt;接口设计
&lt;/h4&gt;&lt;p&gt;分页查询接口设计&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基础参数：pageNum、pageSize、orderBy、isAsc&lt;/li&gt;
&lt;li&gt;业务参数：动态查询的条件&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;添加接口设计&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;分析目标数据表中每个字段的数据来源，决定传入参数&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;修改接口设计&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通过页面原型分析有哪些数据可以修改，然后找到表中的数据源以及和它们有关联的数据&lt;/li&gt;
&lt;li&gt;修改接口需要针对具体的某一条数据，所以肯定有id、除此之外还有各种需要更改的字段&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;客户管理&#34;&gt;客户管理
&lt;/h2&gt;&lt;h3 id=&#34;登录验证码如何区分业务类型&#34;&gt;登录验证码如何区分业务类型
&lt;/h3&gt;&lt;p&gt;用的String做key，存到redis，过期时间是5分钟&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/p/%E4%BA%91%E5%B2%9A%E5%88%B0%E5%AE%B6/index.assets/image-20241112104745561.png&#34;
	width=&#34;434&#34;
	height=&#34;139&#34;
	srcset=&#34;https://example.com/p/%E4%BA%91%E5%B2%9A%E5%88%B0%E5%AE%B6/index.assets/image-20241112104745561_hu6372995650428578565.png 480w, https://example.com/p/%E4%BA%91%E5%B2%9A%E5%88%B0%E5%AE%B6/index.assets/image-20241112104745561_hu4896460843427156462.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20241112104745561&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;312&#34;
		data-flex-basis=&#34;749px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/p/%E4%BA%91%E5%B2%9A%E5%88%B0%E5%AE%B6/index.assets/image-20241112104813999.png&#34;
	width=&#34;411&#34;
	height=&#34;120&#34;
	srcset=&#34;https://example.com/p/%E4%BA%91%E5%B2%9A%E5%88%B0%E5%AE%B6/index.assets/image-20241112104813999_hu6369788312700890884.png 480w, https://example.com/p/%E4%BA%91%E5%B2%9A%E5%88%B0%E5%AE%B6/index.assets/image-20241112104813999_hu8223155841627023516.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20241112104813999&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;342&#34;
		data-flex-basis=&#34;822px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;短信发送&#34;&gt;短信发送
&lt;/h3&gt;&lt;p&gt;开通短信服务&amp;gt;导入阿里的sdk&amp;gt;提供电话号码、短信签名、模板编号（有流控）&lt;/p&gt;
&lt;h3 id=&#34;机构端登录注册实现&#34;&gt;机构端登录、注册实现
&lt;/h3&gt;&lt;p&gt;机构端限定账号密码登录&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;前端输入账号密码，发送请求&lt;/li&gt;
&lt;li&gt;后端校验数据完整性、正确性、是否禁用
&lt;ul&gt;
&lt;li&gt;密码匹配&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;生成token返回&lt;/li&gt;
&lt;li&gt;后续请求携带token（header中）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;注册时需要提供手机号和验证码&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;校验验证码
&lt;ul&gt;
&lt;li&gt;手机号、业务类型&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;校验当前手机号是否已经被注册&lt;/li&gt;
&lt;li&gt;密码加密方式BCrypt（B、C、rypt）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;机构账号密码找回&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;入参
&lt;ul&gt;
&lt;li&gt;手机号、业务验证码、新密码&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;校验手机号账号是否存在&lt;/li&gt;
&lt;li&gt;验证码是否正确&lt;/li&gt;
&lt;li&gt;密码加密（BCrypt）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;用户端定位交互流程&#34;&gt;用户端定位交互流程
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;小程序端调用微信方法获取经纬度返回给后端&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;后端调用高德地图接口返回详细信息&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;region表的city_code是提前从高德地图上下载的全国区域信息，转为json交由前端保存&lt;/p&gt;
&lt;p&gt;在添加区域时直接从json中展示所有的区域列表&lt;/p&gt;
&lt;h3 id=&#34;地址簿&#34;&gt;地址簿
&lt;/h3&gt;&lt;p&gt;新增地址簿&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;前端调用手机定位获取当前位置&lt;/li&gt;
&lt;li&gt;然后提交经纬度获取地址的详细信息&lt;/li&gt;
&lt;li&gt;将地理位置的信息、联系人的信息一起传给新增地址接口&lt;/li&gt;
&lt;li&gt;后端执行新增地址逻辑&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;查询、编辑、删除、设置默认地址&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;略&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;我的账户设置&#34;&gt;我的账户设置
&lt;/h3&gt;&lt;p&gt;跳过&lt;/p&gt;
&lt;h2 id=&#34;小程序门户-缓存&#34;&gt;小程序门户-缓存
&lt;/h2&gt;&lt;p&gt;门户的要求&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;动态更新&lt;/li&gt;
&lt;li&gt;加载速度快、访问频率高&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Web门户&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;将门户页面生成静态页面发布到CDN服务器&lt;/li&gt;
&lt;li&gt;将静态资源也都放到&lt;strong&gt;CDN&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;html的动态数据通过异步请求后端&lt;strong&gt;缓存服务器&lt;/strong&gt;（reids）&lt;/li&gt;
&lt;li&gt;负载均衡，多个&lt;strong&gt;nginx&lt;/strong&gt;共同提供服务（高可用、高性能）&lt;/li&gt;
&lt;li&gt;前端也做缓存
&lt;ul&gt;
&lt;li&gt;LocalStorage&lt;/li&gt;
&lt;li&gt;SessionStorage&lt;/li&gt;
&lt;li&gt;Cookie&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;移动应用门户&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;缓存技术方案&#34;&gt;缓存技术方案
&lt;/h3&gt;&lt;p&gt;有哪些信息需要缓存&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;首页的各种列表和列表中的不同项目&lt;/li&gt;
&lt;li&gt;热门的列表&lt;/li&gt;
&lt;li&gt;类型列表&lt;/li&gt;
&lt;li&gt;服务详细信息&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;spring-cache&#34;&gt;Spring Cache
&lt;/h3&gt;&lt;p&gt;集成Lettuce客户端与Redis服务器通信，基于AOP&lt;/p&gt;
&lt;p&gt;cacheManager&lt;/p&gt;
&lt;p&gt;@CacheEvict、@CachePut、@EnableCaching&lt;/p&gt;
&lt;h3 id=&#34;缓存穿透击穿雪崩&#34;&gt;缓存穿透、击穿、雪崩
&lt;/h3&gt;&lt;p&gt;穿透&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;校验、缓存空值、布隆过滤器&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;击穿：热点数据失效后瞬间请求打到数据库&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用锁
&lt;ul&gt;
&lt;li&gt;分布式锁控制只有一个线程与查询数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;热点数据不过期&lt;/li&gt;
&lt;li&gt;缓存预热
&lt;ul&gt;
&lt;li&gt;提前预热、定时预热&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;热点数据查询降级处理&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;雪崩&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;过期时间+随机值&lt;/li&gt;
&lt;li&gt;定时预热&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;缓存不一致&#34;&gt;缓存不一致
&lt;/h3&gt;&lt;p&gt;写数据库和写缓存不一致即&lt;strong&gt;双写一致&lt;/strong&gt;（网络卡顿导致并发写的场景下写入旧值）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用分布式锁&lt;/li&gt;
&lt;li&gt;延迟双删
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;先删除缓存&lt;/strong&gt;再写数据库然后&lt;strong&gt;再次删除缓存&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;异步同步
&lt;ul&gt;
&lt;li&gt;Canal+MQ异步任务方式&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;服务搜索&#34;&gt;服务搜索
&lt;/h2&gt;&lt;h3 id=&#34;服务搜索技术方案&#34;&gt;服务搜索技术方案
&lt;/h3&gt;</description>
        </item>
        
    </channel>
</rss>
